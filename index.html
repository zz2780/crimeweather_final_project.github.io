<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Weather/Time and Crime: what makes us lose control?</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Clean-data.html">Data</a>
</li>
<li>
  <a href="statistical-test.html">Statistical Test</a>
</li>
<li>
  <a href="Modeling.html">Modeling</a>
</li>
<li>
  <a href="Report.html">Report</a>
</li>
<li>
  <a href="map.html">Interactive Map</a>
</li>
<li>
  <a href="https://zz2780.shinyapps.io/final_shiny/">Offenses</a>
</li>
<li>
  <a href="https://github.com/zz2780/crimeweather_final_project.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="mailto:&lt;hw2861@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://spotcrime.com">
    <span class="fa fa-solid fa-bell"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Weather/Time and Crime: what makes us lose
control?</h1>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<center>
<p><img
src="https://assets1.cbsnewsstatic.com/hub/i/2012/07/06/b8381864-a644-11e2-a3f0-029118418759/1140408.jpg" /></p>
<p>Based on the Lombroso’s Theory of Crime, natural climatic factors can
influence crime rates. The Extreme temperatures sap one’s energy and
reduce the passion for crime. The suitable temperatures stimulate one’s
nerve like alcohol and makes it easier to commit criminal acts in an
excited situation.</p>
<p>In fact, the weather in criminology covers many aspects. Apart from
the weather itself, it also involves the seasons as well as the
temperature. All of these natural events occur in the spatial and
temporal dimensions and recur with regularity from year to year
constitutes a season. In order to fully discuss the changes of crime
rates in the time dimension, we also consider the changes in crime rates
at different times of the day and on different days of the week.</p>
<center>
<p><img
src="https://imgsa.baidu.com/forum/w%3D580/sign=47a589cd9e3df8dca63d8f99fd1172bf/94bfbf1c8701a18bb0bc95759f2f07082838fe24.jpg"
style="width:150.0%" /></p>
</div>
<div id="dataset" class="section level1">
<h1>Dataset</h1>
<p>Our project used the public datasets with information on public
safety and Climatology Network. The <a
href="https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Current-Year-To-Date-/5uac-w243">NYPD
Complaint Data</a> includes all valid felony, misdemeanor, and violation
crimes reported to the New York City Police Department (NYPD) for all
complete quarters so far. In our project, we select the records from
2016-01-01 to 2017-12-31 to do analysis and modeling.</p>
<p>The <a
href="https://www.ncei.noaa.gov/metadata/geoportal/rest/metadata/item/gov.noaa.ncdc:C00861/html">Global
Historical Climatology Network</a> integrates daily climate
observations. Meteorological elements include, but are not limited to,
daily maximum and minimum temperature, temperature at the time of
observation. We selected weather data collected from 2016-01-01 to
2017-12-31 from three weather stations in New York.</p>
<center>
<p><img
src="https://imgsa.baidu.com/forum/w%3D580/sign=47a589cd9e3df8dca63d8f99fd1172bf/94bfbf1c8701a18bb0bc95759f2f07082838fe24.jpg"
style="width:150.0%" /></p>
</div>
<div id="methods" class="section level1">
<h1>Methods</h1>
<p>The NYPD Compliant Data contains 780 million felony, misdemeanor, and
violation crimes reported to the New York City Police Department (NYPD)
from 1910 to 2021. Weather data is collected from the website of NOAA
using the Global Historical Climatology Network.</p>
<p>We selected key variables and renamed them with understandable names
for both datasets, then we combined the two datasets based on date.
Exploratory analysis was first conducted to investigate if there is an
association between crime counts and weather including min/max
temperature, precipitation and snowfall. We also conducted statistical
tests and final model fitting. Visualization including interactive map
and Shiny dashboard is also included in the analysis. Anlyses were
conducted in R version 4.2.1.</p>
<center>
<p><img
src="https://imgsa.baidu.com/forum/w%3D580/sign=47a589cd9e3df8dca63d8f99fd1172bf/94bfbf1c8701a18bb0bc95759f2f07082838fe24.jpg"
style="width:150.0%" /></p>
</div>
<div id="main-results" class="section level1">
<h1>Main Results</h1>
<p>Based on the Chi-squared test, the distribution of number of crimes
cases of each month is significantly different between 2016 and
2017.</p>
<p>Based on the one-way ANOVA, The average number of crimes per day is
correlated to weather.</p>
<p>We can build a model to predict daily crimes cases.</p>
<p>We already know that weather may influence crimes from previous
analysis. So we decided to build a model to predict daily crimes cases.
We proposed following models:</p>
<ul>
<li>Model1: total_crime ~ day_of_week + mean_tmax + mean_prcp +
mean_snow</li>
<li>Model2: total_crime ~ month +day_of_week + mean_tmax + mean_prcp +
mean_snow</li>
<li>Model3: total_crime ~ month +day_of_week + mean_tmax + mean_prcp +
mean_snow + mean_tmax*day_of_week</li>
<li>Model4: total_crime ~ mean_tmax + mean_prcp + mean_snow</li>
</ul>
<p>We use cross validation to compare the four models and performed a
diagnostics and we concluded that Model3 is the best and it meet the
model assumptions. We should select month, day of week, maximum
temperature, precipitation, snow depth and a interaction term between
temperature as our predictors.</p>
<center>
<p><img
src="https://imgsa.baidu.com/forum/w%3D580/sign=47a589cd9e3df8dca63d8f99fd1172bf/94bfbf1c8701a18bb0bc95759f2f07082838fe24.jpg"
style="width:150.0%" /></p>
</div>
<div id="website-overview-video" class="section level1">
<h1>Website Overview Video</h1>
</div>
<div id="discussion" class="section level1">
<h1>Discussion</h1>
<p>We established 4 models aiming to predict how weather contributes to
crime occurrence in NYC, and chose a final model with cross validation
and assumption diagnostics with standard criterions of linear
regression. Model 3 is our best model because it has the lowest RMSE
value among all models. Months (excluding October and December), day of
week (excluding Friday), average precipitation, average snow fall are a
series of predictors that affect crime occurrence with negative slopes.
Months (October and December), average maximum temperature, and the
interaction terms between average maximum temperature and days within a
week are a series of predictors that affect crime occurrence with
positive slopes. Since days within a week alone have negative slopes,
while their interaction between average maximum temperature are having
positive slopes, a higher temperature may have more to do with higher
crime occurrence. To illustrate, research articles has confirmed that a
slight raise in average temperatures will increase violent crime rates
when other contributing factors are constant (Tiihonen et al., 2017).
This can be seen in the Month predictors as they are less negative in
May, June, July, August, and September.</p>
<p>However, there is a inconsistency in the Month predictors because
October and December are having positive slopes, while November has a
slope of -1.06 which is higher than the slopes of May-September. This
may be caused by other factors that are not included in our datasets,
such as holidays – our guesses are people may tend to commit more crimes
during holiday seasons for money, and there are more people out of
town/visiting neighborhoods that they are not familiar with, which led
to problems. This may also be a result of data sampling error because
our dataset only included data from 2016 and 2017. The slopes are very
likely to be changed when we enlarge our sample.</p>
<p>The strength of our model is demonstrated by its relatively lower
RMSE (24) in cross validation, which represent certain accuracy of the
model in predicting the response comparing to the rest of our
models.</p>
<p>Limitations exist in our model. First, as we mentioned above, our
data were collected from 2016 and 2017, which is not representative of
the overall crime tendency in NYC. In addition, our model only included
factors that is weather/temperature relative, and the well-established
factors affecting crimes – such as poverty and mental health issues, are
not included or controlled at baseline in our study. Stratification of
demographical factors is necessary for accuracy. Furthermore, since our
aim is to predict the occurrence of crimes based on weather, a goodness
of fit should be evaluated carefully for such prediction. Other
selection criterions like Mallow’s Cp and adjusted R^2 may be included
in the model validation process. It is also important that a logical
selection procedure is strictly followed for statistical model
selection. Some variables may be log-transformed to become more
effective, and multicollinearity should be assessed to check for
confounders. In our model, such selection and assessments were not done.
These suggest that our model may lack some level of accuracy.</p>
<p>Tiihonen, J., Halonen, P., Tiihonen, L. et al. The Association of
Ambient Temperature and Violent Crime. Sci Rep 7, 6543 (2017). <a
href="https://doi.org/10.1038/s41598-017-06720-z"
class="uri">https://doi.org/10.1038/s41598-017-06720-z</a></p>
<center>
<p><img
src="https://imgsa.baidu.com/forum/w%3D580/sign=47a589cd9e3df8dca63d8f99fd1172bf/94bfbf1c8701a18bb0bc95759f2f07082838fe24.jpg"
style="width:150.0%" /></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
