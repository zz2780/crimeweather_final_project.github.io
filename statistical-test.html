<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Statistical test</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Clean-data.html">Data</a>
</li>
<li>
  <a href="statistical-test.html">Statistical Test</a>
</li>
<li>
  <a href="Modeling.html">Modeling</a>
</li>
<li>
  <a href="Report.html">Report</a>
</li>
<li>
  <a href="map.html">Interactive Map</a>
</li>
<li>
  <a href="https://zz2780.shinyapps.io/final_shiny/">Offenses</a>
</li>
<li>
  <a href="https://github.com/zz2780/crimeweather_final_project.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="mailto:&lt;hw2861@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://spotcrime.com">
    <span class="fa fa-solid fa-bell"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Statistical test</h1>

</div>


<div id="chi-squared-test-on-year-and-number-of-cases-each-month."
class="section level2">
<h2>Chi-squared test on year and number of cases each month.</h2>
<p>We want to verify whether the number distribution of umber of crime
cases of each month is related to the year. Therefore we performed
Chi-squared test for comparison of year of 2016 and 2017 :</p>
<p><span class="math inline">\(H_0\)</span> : The number distribution of
number of crime cases of each month was the same in 2016 and 2017</p>
<p><span class="math inline">\(H_1\)</span> : The number distribution of
number of crime cases of each month was different in 2016 and 2017</p>
<pre class="r"><code>crime_weather &lt;- 
  crime_df %&gt;%
  group_by(date)%&gt;%
  summarise(total_crime = n())%&gt;%
  merge(weather_df,by = &quot;date&quot;)

df_1 &lt;- crime_df %&gt;%
  mutate (
    year = year(date)
  )

table(df_1$year, df_1 $mon)%&gt;%
  knitr::kable(digits = 3)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
<col width="7%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">1</th>
<th align="right">2</th>
<th align="right">3</th>
<th align="right">4</th>
<th align="right">5</th>
<th align="right">6</th>
<th align="right">7</th>
<th align="right">8</th>
<th align="right">9</th>
<th align="right">10</th>
<th align="right">11</th>
<th align="right">12</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2016</td>
<td align="right">5143</td>
<td align="right">4537</td>
<td align="right">5224</td>
<td align="right">5248</td>
<td align="right">5510</td>
<td align="right">5450</td>
<td align="right">5482</td>
<td align="right">5660</td>
<td align="right">5309</td>
<td align="right">5394</td>
<td align="right">4978</td>
<td align="right">4998</td>
</tr>
<tr class="even">
<td align="left">2017</td>
<td align="right">5226</td>
<td align="right">4370</td>
<td align="right">4912</td>
<td align="right">5097</td>
<td align="right">5589</td>
<td align="right">5481</td>
<td align="right">5753</td>
<td align="right">5696</td>
<td align="right">5756</td>
<td align="right">5996</td>
<td align="right">5667</td>
<td align="right">6595</td>
</tr>
</tbody>
</table>
<pre class="r"><code>chisq.test(table(df_1$year, df_1 $mon))</code></pre>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(df_1$year, df_1$mon)
## X-squared = 257.95, df = 11, p-value &lt; 2.2e-16</code></pre>
<p>As the result told us, the p-value &lt; 0.05 , therefore we reject
the null hypothesis and conclude that the distribution of number of
crimes cases of each month is significantly different between 2016 and
2017.</p>
</div>
<div id="anova-between-number-of-crimes-per-day-and-weather"
class="section level2">
<h2>ANOVA between number of crimes per day and weather</h2>
<p>We also concerned about whether weather conditions will affect New
York City’s crime frequency per day. Therefore it is important to test
hypotheses according to different weather conditions and crime cases per
day.</p>
<p>At first, we divided the daily weather into four categories according
to whether the precipitation and rainfall are greater than 0.</p>
<pre class="r"><code>crime_weather_2 &lt;-  crime_weather %&gt;%
  mutate(weather = case_when(mean_prcp == 0 &amp; mean_snow == 0 ~ &#39;not_rainy_or_snowy&#39;,
                           mean_prcp &gt;0 &amp; mean_snow &gt;0 ~ &#39;rainy_and_snowy&#39;,
                           mean_prcp == 0 &amp; mean_snow &gt;0 ~ &#39;snowy&#39;,
                           mean_prcp &gt;0 &amp; mean_snow == 0 ~ &quot;rainy&quot;)) %&gt;%
  select(date, total_crime,  weather)

crime_weather_2 %&gt;%
  group_by(weather)%&gt;%
  summarise(mean_daily_crime = mean(total_crime),
  Standard_deviation = sd(total_crime)) %&gt;%
  knitr::kable(digits = 3)</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">weather</th>
<th align="right">mean_daily_crime</th>
<th align="right">Standard_deviation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">not_rainy_or_snowy</td>
<td align="right">179.685</td>
<td align="right">27.729</td>
</tr>
<tr class="even">
<td align="left">rainy</td>
<td align="right">175.933</td>
<td align="right">25.411</td>
</tr>
<tr class="odd">
<td align="left">rainy_and_snowy</td>
<td align="right">150.500</td>
<td align="right">36.272</td>
</tr>
<tr class="even">
<td align="left">snowy</td>
<td align="right">155.862</td>
<td align="right">21.052</td>
</tr>
</tbody>
</table>
<p>We then conducted one-way ANOVA to test if the true mean daily crime
cases of different weather is the same.</p>
<p><span class="math inline">\(H_0\)</span>: There is no difference in
the average number of crimes per day under different weather conditions
in New York.</p>
<p><span class="math inline">\(H_1\)</span>: At least the average number
of crimes per day under two different weather conditions are
different.</p>
<p>First, Let’s create box-plot of our data.</p>
<pre class="r"><code>ggplot(data = crime_weather_2, aes(x = weather, y = total_crime, fill = weather)) + geom_boxplot()</code></pre>
<p><img src="statistical-test_files/figure-html/unnamed-chunk-4-1.png" width="768" /></p>
<p>From the plot, the distribution of daily crime number seems different
in different weather.</p>
<p>And we conducted a ANOVA test</p>
<pre class="r"><code>res.aov &lt;- aov(total_crime ~ weather, data = crime_weather_2)
summary(res.aov) </code></pre>
<pre><code>##              Df Sum Sq Mean Sq F value   Pr(&gt;F)    
## weather       3  31642   10547   14.46 3.72e-09 ***
## Residuals   727 530437     730                     
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>From the result, the p-value is smaller than 0.05, therefore we
concluded that the average number of crimes per day is correlated to
weather.</p>
<pre class="r"><code>crime_weather_3 = crime_df %&gt;%
  merge(weather_df , by = &quot;date&quot;)%&gt;%
  mutate(weather = case_when(mean_prcp == 0 &amp; mean_snow == 0 ~ &#39;not_rainy_or_snowy&#39;,
                           mean_prcp &gt;0 &amp; mean_snow &gt;0 ~ &#39;rainy_and_snowy&#39;,
                           mean_prcp == 0 &amp; mean_snow &gt;0 ~ &#39;snowy&#39;,
                           mean_prcp &gt;0 &amp; mean_snow == 0 ~ &quot;rainy&quot;)) 

df_crime_weather &lt;- crime_weather_3 %&gt;%
  group_by(weather, offense) %&gt;%
  summarise(Total_number_of_offense = n()) %&gt;%
  pivot_wider(
    names_from = &quot;weather&quot;,
    values_from = &quot;Total_number_of_offense&quot;
  ) 
df_crime_weather[is.na(df_crime_weather)] = 0
df_crime_weather %&gt;%
  head(20) %&gt;%
  knitr::kable(digits = 3)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="44%" />
<col width="22%" />
<col width="7%" />
<col width="19%" />
<col width="7%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">offense</th>
<th align="right">not_rainy_or_snowy</th>
<th align="right">rainy</th>
<th align="right">rainy_and_snowy</th>
<th align="right">snowy</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"></td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">ADMINISTRATIVE CODE</td>
<td align="right">142</td>
<td align="right">94</td>
<td align="right">5</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">ADMINISTRATIVE CODES</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">AGRICULTURE &amp; MRKTS LAW-UNCLASSIFIED</td>
<td align="right">16</td>
<td align="right">10</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">ALCOHOLIC BEVERAGE CONTROL LAW</td>
<td align="right">15</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">ANTICIPATORY OFFENSES</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">ARSON</td>
<td align="right">110</td>
<td align="right">55</td>
<td align="right">4</td>
<td align="right">12</td>
</tr>
<tr class="even">
<td align="left">ASSAULT 3 &amp; RELATED OFFENSES</td>
<td align="right">8185</td>
<td align="right">4708</td>
<td align="right">329</td>
<td align="right">492</td>
</tr>
<tr class="odd">
<td align="left">BURGLAR’S TOOLS</td>
<td align="right">44</td>
<td align="right">20</td>
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">BURGLARY</td>
<td align="right">1949</td>
<td align="right">1199</td>
<td align="right">83</td>
<td align="right">127</td>
</tr>
<tr class="odd">
<td align="left">CHILD ABANDONMENT/NON SUPPORT</td>
<td align="right">7</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">CRIMINAL MISCHIEF &amp; RELATED OF</td>
<td align="right">7904</td>
<td align="right">4688</td>
<td align="right">331</td>
<td align="right">415</td>
</tr>
<tr class="odd">
<td align="left">CRIMINAL TRESPASS</td>
<td align="right">516</td>
<td align="right">336</td>
<td align="right">35</td>
<td align="right">47</td>
</tr>
<tr class="even">
<td align="left">DANGEROUS DRUGS</td>
<td align="right">3602</td>
<td align="right">1935</td>
<td align="right">147</td>
<td align="right">210</td>
</tr>
<tr class="odd">
<td align="left">DANGEROUS WEAPONS</td>
<td align="right">1550</td>
<td align="right">858</td>
<td align="right">80</td>
<td align="right">88</td>
</tr>
<tr class="even">
<td align="left">DISORDERLY CONDUCT</td>
<td align="right">14</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">ENDAN WELFARE INCOMP</td>
<td align="right">4</td>
<td align="right">7</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">ESCAPE 3</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">FELONY ASSAULT</td>
<td align="right">3257</td>
<td align="right">1819</td>
<td align="right">127</td>
<td align="right">195</td>
</tr>
<tr class="even">
<td align="left">FORGERY</td>
<td align="right">975</td>
<td align="right">504</td>
<td align="right">44</td>
<td align="right">57</td>
</tr>
</tbody>
</table>
</div>
<div
id="chi-squared-test-on-weather-and-number-of-different-types-of-offense"
class="section level2">
<h2>Chi-squared test on weather and number of different types of
offense</h2>
<p>We also want to know whether the distribution of number of different
type of crime cases across different weather are the same. Therefore, we
performed another Chi-squared test on number of different type of crimes
and weather.</p>
<p><span class="math inline">\(H_0\)</span> : The number distribution of
each type of crime was the same in different weathers.</p>
<p><span class="math inline">\(H_1\)</span> : The number distribution of
each type of crime was different in different weathers.</p>
<pre class="r"><code>chisq.test(table(crime_weather_3$weather, crime_weather_3$offense))</code></pre>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(crime_weather_3$weather, crime_weather_3$offense)
## X-squared = 224.29, df = 171, p-value = 0.00388</code></pre>
<p>We can see p-value is smaller than 0.05, so we reject the null
hypothesis and conclude that there’s at least one type of weather’s
proportions of number of different type of crimes is different from
others at 0.05 significant level.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
